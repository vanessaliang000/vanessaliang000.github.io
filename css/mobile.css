/* 移动设备优化 */
:root {
    --primary: #9d76c7;
    --primary-light: #b89fe0;
    --primary-dark: #7a4fa6;
    --secondary: #c2bfd0;
    --bg-color: #000000;
    --text-color: #d9d9d9;
}

/* 基础移动优化 */
@media screen and (max-width: 768px) {
    body {
        touch-action: manipulation;
        -webkit-overflow-scrolling: touch;
        overscroll-behavior: contain;
    }
    
    /* 改善按钮和表单元素触控体验 */
    button, 
    .landing-btn,
    .option,
    .graphic-option,
    .thin-button,
    .product-button,
    .action-button,
    .landing-nav-btn,
    .menu-item {
        min-height: 44px;
        touch-action: manipulation;
    }
    
    /* 优化选项容器布局 */
    .options-container {
        margin: 10px 0;
        gap: 8px;
    }
    
    /* 优化选项大小和布局 */
    .option {
        padding: 12px 15px;
        margin-bottom: 8px;
        font-size: 14px;
    }
    
    /* 优化图形选项布局 */
    .graphic-options {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
    }
    
    .graphic-option {
        padding: 8px;
        height: auto;
    }
    
    .graphic-icon {
        width: 32px;
        height: 32px;
        margin-bottom: 6px;
    }
    
    .graphic-label {
        font-size: 12px;
        line-height: 1.2;
    }
    
    /* 优化场景选项 */
    .scenario-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    
    .scenario-option {
        height: auto;
    }
    
    .scenario-image {
        height: 80px;
    }
    
    .scenario-text {
        padding: 12px;
    }
    
    .scenario-title {
        font-size: 14px;
        margin-bottom: 4px;
    }
    
    .scenario-description {
        font-size: 12px;
        line-height: 1.3;
    }
    
    /* 优化滑块控件 */
    input[type="range"] {
        height: 24px;
        padding: 8px 0;
    }
    
    .slider-container {
        gap: 10px;
    }
    
    .slider-value {
        width: 60px;
        font-size: 14px;
    }
    
    /* 优化复选框和单选框 */
    input[type="radio"],
    input[type="checkbox"] {
        width: 20px;
        height: 20px;
        margin-right: 10px;
    }
    
    .option label {
        font-size: 14px;
        line-height: 1.4;
    }
    
    /* 优化按钮样式 */
    .thin-button {
        padding: 10px 20px;
        font-size: 13px;
    }
    
    /* 优化进度指示器 */
    .assessment-progress {
        margin: 15px 0;
    }
    
    .assessment-progress-text {
        font-size: 12px;
    }
    
    /* 优化问题文本 */
    .question {
        font-size: 16px;
        margin-bottom: 15px;
        line-height: 1.4;
    }
    
    /* 固定页面宽度，防止横向溢出 */
    .section,
    .content-wrapper,
    .options-container,
    .assessment-steps,
    .facts-container {
        max-width: 100vw;
        overflow-x: hidden;
    }
    
    /* 固定内容居中，避免横向溢出 */
    .content-wrapper {
        padding: 15px 20px;
        box-sizing: border-box;
    }
    
    /* 消除输入时的缩放 */
    input, select, textarea {
        font-size: 16px !important;
    }
    
    /* 改善移动端滚动体验 */
    .scroll-container {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
    }
    
    /* 优化移动设备上的导航 */
    .menu {
        padding-top: 80px;
    }
    
    .menu-item {
        padding: 15px 0;
        margin-bottom: 15px;
    }
    
    /* 改善评估部分在移动端的显示 */
    .assessment-number {
        font-size: 70px;
        top: 20px;
        right: 20px;
    }
    
    .assessment-progress {
        bottom: 20px;
        left: 20px;
    }
    
    /* 优化交互元素的触摸区域 */
    .dot {
        width: 22px;
        height: 22px;
    }
    
    .page-indicator {
        right: 10px;
    }
    
    /* 适应不同移动设备的高度 */
    @media (max-height: 700px) {
        .large-title {
            font-size: 28px;
        }
        
        .section-title {
            font-size: 24px;
        }
        
        .question {
            font-size: 18px;
            margin-bottom: 20px;
        }
        
        .fact-item {
            padding: 10px 5px;
        }
        
        .fact-number {
            font-size: 28px;
        }
        
        .assessment-number {
            font-size: 60px;
        }
    }
    
    /* 菜单增强 */
    .menu-content {
        padding-top: 60px;
    }
    
    .menu-item {
        font-size: 24px;
        padding: 15px 0;
        margin-bottom: 20px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .menu-item::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 1px;
        background-color: rgba(194, 191, 208, 0.2);
    }
    
    .menu-toggle, .sound-toggle {
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: rgba(0, 0, 0, 0.6);
        border-radius: 50%;
        z-index: 120;
    }
    
    .menu-toggle {
        left: 10px;
        top: 10px;
    }
    
    .sound-toggle {
        right: 10px;
        top: 10px;
    }
}

/* 小屏幕设备的额外优化 */
@media screen and (max-width: 480px) {
    .landing-hero {
        padding-top: 80px;
    }
    
    /* 进一步缩小选项大小 */
    .graphic-options {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .graphic-option {
        padding: 6px;
    }
    
    .graphic-icon {
        width: 28px;
        height: 28px;
        margin-bottom: 4px;
    }
    
    .graphic-label {
        font-size: 11px;
    }
    
    /* 调整场景选项 */
    .scenario-container {
        grid-template-columns: 1fr;
    }
    
    .scenario-image {
        height: 70px;
    }
    
    /* 调整按钮大小 */
    .thin-button {
        padding: 8px 16px;
        font-size: 12px;
    }
    
    /* 调整文本大小 */
    .question {
        font-size: 15px;
    }
    
    .option label {
        font-size: 13px;
    }
    
    .page-indicator {
        transform: scale(0.7);
        right: 5px;
    }
    
    /* 增强小屏幕下的交互元素 */
    button, 
    .landing-btn,
    .option,
    .product-button,
    .action-button {
        width: 100%;
    }
    
    /* 修复在小屏幕设备上导航菜单的显示 */
    .menu-content {
        padding: 10px;
    }
    
    .menu-item {
        font-size: 20px;
    }
    
    /* 优化处理页面 */
    .large-processing-title {
        font-size: 36px;
        margin-bottom: 30px;
    }
    
    /* 修复某些元素在超小屏幕上的布局问题 */
    @media (max-width: 360px) {
        .assessment-number {
            font-size: 50px;
            top: 15px;
            right: 15px;
        }
        
        .fact-number {
            font-size: 26px;
        }
        
        .landing-hero {
            padding-top: 70px;
        }
    }
}

/* 适配横屏模式 */
@media screen and (max-width: 1000px) and (orientation: landscape) {
    .landing-hero {
        padding: 0 5vw;
    }
    
    .hero-title {
        font-size: clamp(2rem, 4vw, 3rem);
    }
    
    .hero-subtitle {
        font-size: 0.9rem;
        margin-bottom: 15px;
    }
    
    .landing-header {
        padding: 0 10px;
    }
    
    .assessment-steps {
        flex-direction: row;
        gap: 15px;
    }
    
    .section {
        min-height: 450px;
    }
    
    .content-wrapper {
        justify-content: flex-start;
        padding-top: 50px;
    }
    
    .graphic-options {
        flex-direction: row;
        flex-wrap: wrap;
    }
    
    .graphic-option {
        width: calc(25% - 10px);
    }
}

/* Safari iOS特定修复 */
@supports (-webkit-touch-callout: none) {
    .section {
        min-height: -webkit-fill-available;
    }
    
    body {
        min-height: -webkit-fill-available;
    }
}

/* 触摸反馈样式 */
.mobile-device button,
.mobile-device .option,
.mobile-device .graphic-option,
.mobile-device .thin-button,
.mobile-device .landing-btn,
.mobile-device .action-button,
.mobile-device .menu-item {
    -webkit-tap-highlight-color: transparent;
}

.touch-active {
    transform: scale(0.97);
    opacity: 0.9;
    transition: transform 0.1s, opacity 0.1s;
}

/* 适配iOS键盘打开 */
.keyboard-open {
    position: absolute;
    width: 100%;
    height: auto;
}

/* 可滚动内容样式 */
.scrollable {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 60px;
}

/* 优化移动设备上的弹出层 */
@media screen and (max-width: 768px) {
    .menu {
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    
    /* 触摸友好的按钮尺寸 */
    .dot, 
    .menu-toggle, 
    .sound-toggle {
        padding: 10px;
    }
    
    /* 使用--vh变量解决iOS中100vh问题 */
    .section {
        height: calc(var(--vh, 1vh) * 100);
    }
    
    /* 增加触摸交互区域 */
    .landing-scroll-indicator,
    .scroll-prompt {
        padding: 15px 0;
    }
    
    /* 显示滚动条以提高可见性 */
    .content-wrapper::-webkit-scrollbar {
        width: 3px;
    }
    
    .content-wrapper::-webkit-scrollbar-thumb {
        background-color: var(--primary);
        border-radius: 3px;
    }
}

/* 优化触摸区域 */
@media (hover: none) and (pointer: coarse) {
    .option,
    .graphic-option,
    .scenario-option,
    .thin-button {
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
    }
    
    .option:active,
    .graphic-option:active,
    .scenario-option:active,
    .thin-button:active {
        transform: scale(0.98);
        opacity: 0.9;
    }
} 